<!DOCTYPE html>
<html lang="en">
  <head>
    <title>index</title>
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="node_modules/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/font.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet' />
  </head>
  <body>
    <div data-bind="template: currentView"></div>

    <script type="text/html" id="notConnected">
      <button type="button" class="login-button" data-bind="click: login">Login</button>
      <button type="button" class="register-button">Sign-up</button>
    </script>

    <script type="text/html" id="connected">
      <div class="dropdown">
        <button class="dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          <img class="dropdown-toggle-avatar" src="http://thinkingstiff.com/images/matt.jpg"  alt="avatar"/>
          Jean michel
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <li><a class="dropdown-item" href="#">Action</a></li>
          <li><a class="dropdown-item" href="#">Another action</a></li>
        </ul>
      </div>
    </script>
    
    <script type="text/html" id="header">
      <div class="container-fluid header pt-5 ps-4 pe-4 poppins">
        <div class="row">
          <div class="col-sm-8 d-flex flex-wrap">
            <img class="logo" src="static/png/SecondSub.png" width="194" height="28" alt="logo"/>
            <div class="link">movies</div>
            <div class="link">series</div>
            <div class="link">video-games</div>
          </div>
          <div class="col-sm-4 d-flex align-items-center justify-content-end" data-bind="template: accountViewButton"></div>
        </div>
        <form class="d-flex search-input" data-bind="submit: getTitles">
          <button type="submit">
            <i class="bi bi-search"></i>
          </button>
          <input type="text" placeholder="Search" aria-label="search input" data-bind="textInput: searchText">

          <div data-bind="template: searchFilterView"></div>
        </form>
      </div>
    </script>

    <script type="text/html" id="searchPopUpButton">
      <button class="filter" data-bind="click: openSearchFilter">
        <i class="bi bi-sliders"></i>
      </button>
    </script>
    
    <script type="text/html" id="pagination">
      <div class="pagination">
        <ul>
          <!-- ko if: currentPageNumber() > 1 -->
            <li class="btn prev" data-bind="click: goPrevPage"><span><i class="bi bi-chevron-left"></i> Prev</span></li>
          <!-- /ko -->
          <!-- ko if: currentPageNumber() > 2 -->
            <li class="numb" data-bind="click: goFirstPage"><span>1</span></li>
            <!-- ko if: currentPageNumber() > 3 -->
              <li class="dots"><span>...</span></li>
            <!-- /ko -->
          <!-- /ko -->

          <!-- ko foreach: pages -->
              <li class="numb" data-bind="click: $parent.goToPage, css: {active: $data === $parent.currentPageNumber()}">
                <span data-bind="text: $data"></span>
              </li>
          <!-- /ko -->
          <!-- ko if: currentPageNumber() < totalPages() - 1 -->
            <!-- ko if: currentPageNumber() < totalPages() - 2 -->
              <li class="dots"><span>...</span></li>
            <!-- /ko -->
            <li class="numb" data-bind="click: goLastPage"><span data-bind="text: totalPages"></span></li>
          <!-- /ko -->
          <!-- ko if: currentPageNumber() < totalPages() -->
            <li class="btn next" data-bind="click: goNextPage"><span>Next <i class="bi bi-chevron-right"></i></span></li>
          <!-- /ko -->
        </ul>
      </div>
    </script>

    <script type="text/html" id="searchPopUp">
      <div class="search-filter-container">
        <div class="search-filter-header">FILTER</div>
      </div>
      <button class="filter" data-bind="click: closeSearchFilter">
        <i class="bi bi-sliders"></i>
      </button>
    </script>

    <script type="text/html" id="list">
      <div data-bind="template: { name: 'header' }"></div>
      
      <div class="titles-container ps-4 pe-4" data-bind="foreach: titles">
        <div class="title-container">
          <div class="preview-poster-container">
            <img class="preview-poster-background" alt="poster-background" height="100%" width="100%" data-bind="attr:{src: poster}" />
            <img class="preview-poster" alt="poster" height="100%" width="100%" data-bind="attr:{src: poster}" />
          </div>
          <div class="d-flex justify-content-between mb-1">
            <div class="title-name" data-bind="text: originalTitle"></div>
            <div class="title-rating">
              <i class="title-rating-star bi bi-star-fill"></i>
              <div><span data-bind="text: rating"></span>/10</div>
            </div>
          </div>
          <div class="title-description" data-bind="text: originalTitle"></div>
        </div>
      </div>
      
      <div data-bind="template: { name: 'pagination' }"></div>
    </script>

    <script data-main="js/main.js" src="node_modules/requirejs/require.js"></script>
  </body>
</html>